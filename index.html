<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¤Ø³Ø³Ø© Ù…Ø²Ø§Ø¬ Ø§Ù„Ù…ÙˆØ§Ø·Ù† | Ø§Ù„Ù…Ù†Ø¸ÙˆÙ…Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50; /* ÙƒØ­Ù„ÙŠ Ù…Ø¤Ø³Ø³Ø§ØªÙŠ */
            --accent-gold: #c5a059;  /* Ø°Ù‡Ø¨ÙŠ Ù‡Ø§Ø¯Ø¦ */
            --bg-light: #f8f9fa;     /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ Ø¬Ø¯Ø§Ù‹ */
            --white: #ffffff;
            --success: #27ae60;
            --danger: #e74c3c;
            --text-gray: #555;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-light);
            margin: 0;
            padding: 0;
            color: var(--primary-color);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙØ­Ø§Øª */
        .page { display: none; animation: fadeIn 0.5s ease; }
        .active-page { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header {
            background: var(--white);
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-bottom: 3px solid var(--accent-gold);
        }

        .logo h1 { margin: 0; font-size: 20px; color: var(--accent-gold); font-weight: 900; }

        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… - Ù‡ÙŠØ±Ùˆ */
        .hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, #34495e 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }

        .container { max-width: 1000px; margin: -50px auto 50px; padding: 0 20px; }

        .card {
            background: var(--white);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        h3.section-title {
            color: var(--accent-gold);
            border-right: 5px solid var(--accent-gold);
            padding-right: 15px;
            margin: 30px 0 20px;
            font-size: 1.2rem;
        }

        /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø´Ø¨ÙƒØ© */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
        }

        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-family: 'Cairo';
            box-sizing: border-box;
        }

        .btn-main {
            background: var(--accent-gold);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 30px;
            transition: 0.3s;
        }

        .btn-main:hover { background: #a38448; transform: translateY(-2px); }

        /* Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ± */
        .admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .stats-bar { display: flex; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; }
        .stat-item { background: var(--white); padding: 15px 25px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); flex: 1; text-align: center; }
        
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; }
        th { background: #eee; padding: 15px; text-align: right; }
        td { padding: 15px; border-bottom: 1px solid #eee; font-size: 14px; }

        /* ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .login-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #eee;
        }
        .login-card { background: white; padding: 40px; border-radius: 20px; width: 320px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
    </style>
</head>
<body>

    <div id="registerPage" class="page active-page">
        <header>
            <div class="logo"><h1>Ù…Ø¤Ø³Ø³Ø© Ù…Ø²Ø§Ø¬ Ø§Ù„Ù…ÙˆØ§Ø·Ù†</h1></div>
            <button onclick="navTo('loginPage')" style="background:none; border:1px solid #ccc; padding:5px 10px; border-radius:5px; cursor:pointer;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
        </header>

        <div class="hero">
            <h2>Ù…Ù†Ø¸ÙˆÙ…Ø© Ø¥ØºØ§Ø«Ø© Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„ØªØ¨Øº</h2>
            <p>Ø³Ø¬Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø¯Ù‚Ø© Ù„Ø¶Ù…Ø§Ù† ÙˆØµÙˆÙ„ Ø­ØµØªÙƒ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ø¨ÙƒØ±Ø§Ù…Ø©</p>
        </div>

        <div class="container">
            <div class="card">
                <form id="mainOrderForm">
                    <h3 class="section-title">1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„Ø³ÙƒÙ†</h3>
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ</label>
                            <input type="text" id="regName" required placeholder="Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ...">
                        </div>
                        <div class="input-group">
                            <label>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©</label>
                            <input type="number" id="regId" required placeholder="900000000">
                        </div>
                        <div class="input-group">
                            <label>Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ (ÙˆØ§ØªØ³Ø§Ø¨)</label>
                            <input type="tel" id="regPhone" required placeholder="059XXXXXXX">
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</label>
                            <select id="regCity">
                                <option>Ø´Ù…Ø§Ù„ ØºØ²Ø©</option><option>ØºØ²Ø©</option><option>Ø§Ù„ÙˆØ³Ø·Ù‰</option><option>Ø®Ø§Ù†ÙŠÙˆÙ†Ø³</option><option>Ø±ÙØ­</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Ù…ÙƒØ§Ù† Ø§Ù„Ø³ÙƒÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ</label>
                            <input type="text" id="regAddress" required placeholder="Ù…Ø®ÙŠÙ…ØŒ Ù…Ø¯Ø±Ø³Ø©ØŒ Ø£Ùˆ Ø­ÙŠ">
                        </div>
                        <div class="input-group">
                            <label>Ø§Ù„Ù…Ù‡Ù†Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</label>
                            <input type="text" id="regJob" placeholder="Ù…Ø«Ù„Ø§Ù‹: ØªØ§Ø¬Ø±ØŒ Ù…ÙˆØ¸Ù">
                        </div>
                    </div>

                    <h3 class="section-title">2. ØªÙØ§ØµÙŠÙ„ "Ø§Ù„Ù…Ø²Ø§Ø¬" ÙˆØ§Ù„Ø·Ù„Ø¨</h3>
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Ø§Ù„ØµÙ†Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
                            <select id="regType">
                                <option>Ø¯Ø®Ø§Ù† Ø£Ø¬Ù†Ø¨ÙŠ</option><option>Ø¯Ø®Ø§Ù† Ù…Ø­Ù„ÙŠ</option><option>ØªØ¨Øº ÙØ±Ø· (Ù„Ù)</option><option>Ù…Ø¹Ø³Ù„</option><option>ÙÙŠØ¨</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Ø§Ù„Ù…Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙØ¶Ù„Ø©</label>
                            <input type="text" id="regBrand" required placeholder="Ù…Ø«Ù„Ø§Ù‹: Ù…Ø§Ù„Ø¨ÙˆØ±Ùˆ">
                        </div>
                        <div class="input-group">
                            <label>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© (Ø¹Ù„Ø¨)</label>
                            <input type="number" id="regQty" min="1" max="14" placeholder="ÙƒÙ… Ø¹Ù„Ø¨Ø© ØªØ­ØªØ§Ø¬ØŸ">
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª ØµØ­ÙŠØ© Ø£Ùˆ Ø¨Ø¯Ø§Ø¦Ù„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <textarea id="regNotes" rows="2" placeholder="Ù‡Ù„ ØªÙ‚Ø¨Ù„ Ø¨ØµÙ†Ù Ø¨Ø¯ÙŠÙ„ØŸ Ø£Ùˆ Ù‡Ù„ ØªØ¹Ø§Ù†ÙŠ Ù…Ù† Ù…Ø´Ø§ÙƒÙ„ ØªÙ†ÙØ³ÙŠØ©ØŸ"></textarea>
                    </div>

                    <button type="submit" class="btn-main">ØªØ£ÙƒÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                </form>
            </div>
        </div>
    </div>

    <div id="loginPage" class="page">
        <div class="login-screen">
            <div class="login-card">
                <h2 style="color:var(--accent-gold)">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø·ÙˆØ±</h2>
                <p>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø³Ø±ÙŠØ©</p>
                <input type="password" id="passCode" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" style="text-align:center; margin-bottom:20px;">
                <button onclick="attemptLogin()" class="btn-main" style="margin:0">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…</button>
                <p onclick="navTo('registerPage')" style="cursor:pointer; color:gray; font-size:12px; margin-top:20px;">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</p>
            </div>
        </div>
    </div>

    <div id="adminPage" class="page">
        <header>
            <div class="logo"><h1>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¤Ø³Ø³Ø©</h1></div>
            <button onclick="navTo('registerPage')" style="background:var(--danger); color:white; border:none; padding:5px 15px; border-radius:5px; cursor:pointer;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </header>

        <div style="padding: 30px 5%;">
            <div class="stats-bar">
                <div class="stat-item">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙƒÙ„ÙŠØ©: <b id="statTotal">0</b></div>
                <div class="stat-item">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©: <b id="statPending">0</b></div>
                <div class="stat-item">ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…: <b id="statDone">0</b></div>
            </div>

            <div class="admin-header">
                <h3>ğŸ“¦ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†</h3>
                <input type="text" id="adminSearch" onkeyup="searchTable()" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ù‡ÙˆÙŠØ©..." style="width:300px;">
            </div>

            <div style="overflow-x:auto;">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ø§Ø³Ù…</th>
                            <th>Ø§Ù„Ù‡ÙˆÙŠØ©</th>
                            <th>Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</th>
                            <th>Ø§Ù„ØµÙ†Ù</th>
                            <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                            <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªÙ†Ù‚Ù„
        function navTo(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.getElementById(pageId).classList.add('active-page');
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (2005)
        function attemptLogin() {
            const pass = document.getElementById('passCode').value;
            if(pass === "2005") {
                navTo('adminPage');
                renderAdminTable();
            } else {
                alert("Ø®Ø·Ø£! ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.");
            }
        }

        // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        document.getElementById('mainOrderForm').onsubmit = function(e) {
            e.preventDefault();
            const order = {
                id: Date.now(),
                name: document.getElementById('regName').value,
                nationalId: document.getElementById('regId').value,
                phone: document.getElementById('regPhone').value,
                city: document.getElementById('regCity').value,
                address: document.getElementById('regAddress').value,
                type: document.getElementById('regType').value,
                brand: document.getElementById('regBrand').value,
                qty: document.getElementById('regQty').value,
                status: 'pending'
            };

            let database = JSON.parse(localStorage.getItem('mzj_db')) || [];
            database.push(order);
            localStorage.setItem('mzj_db', JSON.stringify(database));

            alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­. Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø¬Ù„.");
            this.reset();
        };

        // Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ±
        function renderAdminTable() {
            const db = JSON.parse(localStorage.getItem('mzj_db')) || [];
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            document.getElementById('statTotal').innerText = db.length;
            document.getElementById('statPending').innerText = db.filter(x => x.status === 'pending').length;
            document.getElementById('statDone').innerText = db.filter(x => x.status === 'delivered').length;

            db.forEach(item => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td><b>${item.name}</b></td>
                    <td>${item.nationalId}</td>
                    <td>${item.city}</td>
                    <td>${item.brand}</td>
                    <td>${item.qty} Ø¹Ù„Ø¨</td>
                    <td><span style="color:${item.status === 'pending' ? 'orange' : 'green'}">
                        ${item.status === 'pending' ? 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚' : 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…'}
                    </span></td>
                    <td>
                        <button onclick="updateStatus(${item.id})" style="background:var(--success); color:white; border:none; border-radius:4px; padding:5px; cursor:pointer;">ØªØ³Ù„ÙŠÙ…</button>
                        <button onclick="deleteRow(${item.id})" style="background:var(--danger); color:white; border:none; border-radius:4px; padding:5px; cursor:pointer;">Ø­Ø°Ù</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        function updateStatus(id) {
            let db = JSON.parse(localStorage.getItem('mzj_db'));
            const index = db.findIndex(x => x.id === id);
            db[index].status = 'delivered';
            localStorage.setItem('mzj_db', JSON.stringify(db));
            renderAdminTable();
        }

        function deleteRow(id) {
            if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ")) {
                let db = JSON.parse(localStorage.getItem('mzj_db'));
                db = db.filter(x => x.id !== id);
                localStorage.setItem('mzj_db', JSON.stringify(db));
                renderAdminTable();
            }
        }

        function searchTable() {
            const input = document.getElementById('adminSearch').value.toLowerCase();
            const rows = document.getElementById('tableBody').getElementsByTagName('tr');
            for (let row of rows) {
                row.style.display = row.innerText.toLowerCase().includes(input) ? "" : "none";
            }
        }
    </script>
</body>
</html>
